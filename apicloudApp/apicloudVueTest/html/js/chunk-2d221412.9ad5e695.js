(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d221412"],{ca20:function(s,e,t){"use strict";t.r(e);var n=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"chat"},[t("div",{staticClass:"top"},[t("span",[s._v("当前在线人数 "+s._s(s.userNum))]),t("button",{on:{click:function(e){return s.$router.push("/ai")}}},[s._v("去找AI")])]),t("div",{staticClass:"mainMsg"},s._l(s.msgList,(function(e,n){return t("div",{key:n},[0==e.msgType?[t("div",{staticClass:"tip"},[t("span",{staticClass:"tipMsg"},[s._v(s._s(e.message))])])]:s._e(),1==e.msgType?[e.userName===s.userName?t("div",{staticClass:"rightText"},[t("span",{staticClass:"img"}),t("span",{staticClass:"rightMsg"},[s._v(s._s(e.message))])]):t("div",{staticClass:"leftText"},[t("span",{staticClass:"img"}),t("span",[t("span",{staticClass:"leftName"},[s._v(s._s(e.userName)+" ( "+s._s(e.msgDate)+" )")]),t("span",{staticClass:"leftMsg"},[s._v(s._s(e.message))])])])]:s._e()],2)})),0),t("div",{staticClass:"footer"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.sendMsgInfo,expression:"sendMsgInfo"}],attrs:{type:"text",placeholder:"",id:"sendMsg"},domProps:{value:s.sendMsgInfo},on:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?s.sendMsg():null},input:function(e){e.target.composing||(s.sendMsgInfo=e.target.value)}}}),t("button",{on:{click:function(e){return s.sendMsg()}}},[s._v("发送")])])])},a=[],i={data:function(){return{userName:"",userNum:0,sendMsgInfo:"",msgList:[],testMsg:{reqType:0,perception:{inputText:{text:"附近的酒店"}},userInfo:{apiKey:"f7a970932af9475bb4926349803493f8",userId:"111"}}}},created:function(){this.userName=this.$route.query.userName},mounted:function(){var s=this;socket.on("receiveMessage",(function(s){s.msgType})),socket.on("amountChange",(function(e){console.log(e),s.userNum=e})),socket.on("receiveMessage",(function(e){console.log("接收到服务端返回：",e),s.msgList.push(e)})),socket.emit("allUser")},methods:{sendMsg:function(){this.sendMsgInfo?(socket.emit("sendMsg",{userName:this.userName,message:this.sendMsgInfo}),this.sendMsgInfo=""):alert("你不说话我也没办法~")}}},o=i,u=t("2877"),c=Object(u["a"])(o,n,a,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d221412.9ad5e695.js.map